{
  "address": "vsr2nfGVNHmSY8uxoBGqq8AQbwz3JwaEaHqGbsTPXqQ",
  "metadata": {
    "name": "voter_stake_registry",
    "version": "0.2.1",
    "spec": "0.1.0"
  },
  "instructions": [
    {
      "name": "create_registrar",
      "discriminator": [132, 235, 36, 49, 139, 66, 202, 69],
      "accounts": [
        {
          "name": "registrar",
          "writable": true
        },
        {
          "name": "realm"
        },
        {
          "name": "governance_program_id"
        },
        {
          "name": "realm_governing_token_mint"
        },
        {
          "name": "realm_authority",
          "signer": true
        },
        {
          "name": "payer",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program"
        },
        {
          "name": "rent"
        }
      ],
      "args": [
        {
          "name": "registrar_bump",
          "type": "u8"
        }
      ]
    },
    {
      "name": "configure_voting_mint",
      "discriminator": [113, 153, 141, 236, 184, 9, 135, 15],
      "accounts": [
        {
          "name": "registrar",
          "writable": true
        },
        {
          "name": "realm_authority",
          "signer": true
        },
        {
          "name": "mint"
        }
      ],
      "args": [
        {
          "name": "idx",
          "type": "u16"
        },
        {
          "name": "digit_shift",
          "type": "i8"
        },
        {
          "name": "baseline_vote_weight_scaled_factor",
          "type": "u64"
        },
        {
          "name": "max_extra_lockup_vote_weight_scaled_factor",
          "type": "u64"
        },
        {
          "name": "lockup_saturation_secs",
          "type": "u64"
        },
        {
          "name": "grant_authority",
          "type": {
            "option": "pubkey"
          }
        }
      ]
    },
    {
      "name": "create_voter",
      "discriminator": [6, 24, 245, 52, 243, 255, 148, 25],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "voter_authority",
          "signer": true
        },
        {
          "name": "voter_weight_record",
          "writable": true
        },
        {
          "name": "payer",
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program"
        },
        {
          "name": "rent"
        },
        {
          "name": "instructions"
        }
      ],
      "args": [
        {
          "name": "voter_bump",
          "type": "u8"
        },
        {
          "name": "voter_weight_record_bump",
          "type": "u8"
        }
      ]
    },
    {
      "name": "create_deposit_entry",
      "discriminator": [185, 131, 167, 186, 159, 125, 19, 67],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "vault",
          "writable": true
        },
        {
          "name": "voter_authority",
          "signer": true
        },
        {
          "name": "payer",
          "writable": true,
          "signer": true
        },
        {
          "name": "deposit_mint"
        },
        {
          "name": "system_program"
        },
        {
          "name": "token_program"
        },
        {
          "name": "associated_token_program"
        },
        {
          "name": "rent"
        }
      ],
      "args": [
        {
          "name": "deposit_entry_index",
          "type": "u8"
        },
        {
          "name": "kind",
          "type": {
            "defined": {
              "name": "LockupKind"
            }
          }
        },
        {
          "name": "start_ts",
          "type": {
            "option": "u64"
          }
        },
        {
          "name": "periods",
          "type": "u32"
        },
        {
          "name": "allow_clawback",
          "type": "bool"
        }
      ]
    },
    {
      "name": "deposit",
      "discriminator": [242, 35, 198, 137, 82, 225, 242, 182],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "vault",
          "writable": true
        },
        {
          "name": "deposit_token",
          "writable": true
        },
        {
          "name": "deposit_authority",
          "signer": true
        },
        {
          "name": "token_program"
        }
      ],
      "args": [
        {
          "name": "deposit_entry_index",
          "type": "u8"
        },
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "withdraw",
      "discriminator": [183, 18, 70, 156, 148, 109, 161, 34],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "voter_authority",
          "signer": true
        },
        {
          "name": "token_owner_record"
        },
        {
          "name": "voter_weight_record",
          "writable": true
        },
        {
          "name": "vault",
          "writable": true
        },
        {
          "name": "destination",
          "writable": true
        },
        {
          "name": "token_program"
        }
      ],
      "args": [
        {
          "name": "deposit_entry_index",
          "type": "u8"
        },
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "grant",
      "discriminator": [145, 189, 68, 153, 161, 231, 76, 107],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "voter_authority"
        },
        {
          "name": "voter_weight_record",
          "writable": true
        },
        {
          "name": "vault",
          "writable": true
        },
        {
          "name": "deposit_token",
          "writable": true
        },
        {
          "name": "token_authority",
          "signer": true
        },
        {
          "name": "grant_authority",
          "signer": true
        },
        {
          "name": "payer",
          "writable": true,
          "signer": true
        },
        {
          "name": "deposit_mint"
        },
        {
          "name": "system_program"
        },
        {
          "name": "token_program"
        },
        {
          "name": "associated_token_program"
        },
        {
          "name": "rent"
        }
      ],
      "args": [
        {
          "name": "voter_bump",
          "type": "u8"
        },
        {
          "name": "voter_weight_record_bump",
          "type": "u8"
        },
        {
          "name": "kind",
          "type": {
            "defined": {
              "name": "LockupKind"
            }
          }
        },
        {
          "name": "start_ts",
          "type": {
            "option": "u64"
          }
        },
        {
          "name": "periods",
          "type": "u32"
        },
        {
          "name": "allow_clawback",
          "type": "bool"
        },
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "clawback",
      "discriminator": [111, 92, 142, 79, 33, 234, 82, 27],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "realm_authority",
          "signer": true
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "vault",
          "writable": true
        },
        {
          "name": "destination",
          "writable": true
        },
        {
          "name": "token_program"
        }
      ],
      "args": [
        {
          "name": "deposit_entry_index",
          "type": "u8"
        }
      ]
    },
    {
      "name": "close_deposit_entry",
      "discriminator": [236, 190, 87, 34, 251, 131, 138, 237],
      "accounts": [
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "voter_authority",
          "signer": true
        }
      ],
      "args": [
        {
          "name": "deposit_entry_index",
          "type": "u8"
        }
      ]
    },
    {
      "name": "reset_lockup",
      "discriminator": [243, 20, 24, 247, 238, 148, 94, 62],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "voter_authority",
          "signer": true
        }
      ],
      "args": [
        {
          "name": "deposit_entry_index",
          "type": "u8"
        },
        {
          "name": "kind",
          "type": {
            "defined": {
              "name": "LockupKind"
            }
          }
        },
        {
          "name": "periods",
          "type": "u32"
        }
      ]
    },
    {
      "name": "internal_transfer_locked",
      "discriminator": [246, 200, 90, 231, 133, 22, 25, 220],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "voter_authority",
          "signer": true
        }
      ],
      "args": [
        {
          "name": "source_deposit_entry_index",
          "type": "u8"
        },
        {
          "name": "target_deposit_entry_index",
          "type": "u8"
        },
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "internal_transfer_unlocked",
      "discriminator": [95, 95, 252, 26, 102, 114, 142, 193],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "voter_authority",
          "signer": true
        }
      ],
      "args": [
        {
          "name": "source_deposit_entry_index",
          "type": "u8"
        },
        {
          "name": "target_deposit_entry_index",
          "type": "u8"
        },
        {
          "name": "amount",
          "type": "u64"
        }
      ]
    },
    {
      "name": "update_voter_weight_record",
      "discriminator": [45, 185, 3, 36, 109, 190, 115, 169],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter"
        },
        {
          "name": "voter_weight_record",
          "writable": true
        },
        {
          "name": "system_program"
        }
      ],
      "args": []
    },
    {
      "name": "update_max_vote_weight",
      "discriminator": [78, 221, 185, 255, 240, 128, 244, 162],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "max_vote_weight_record"
        }
      ],
      "args": []
    },
    {
      "name": "close_voter",
      "discriminator": [117, 35, 234, 247, 206, 131, 182, 149],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter",
          "writable": true
        },
        {
          "name": "voter_authority",
          "signer": true
        },
        {
          "name": "sol_destination",
          "writable": true
        },
        {
          "name": "token_program"
        }
      ],
      "args": []
    },
    {
      "name": "log_voter_info",
      "discriminator": [171, 72, 233, 90, 143, 151, 113, 51],
      "accounts": [
        {
          "name": "registrar"
        },
        {
          "name": "voter"
        }
      ],
      "args": [
        {
          "name": "deposit_entry_begin",
          "type": "u8"
        },
        {
          "name": "deposit_entry_count",
          "type": "u8"
        }
      ]
    },
    {
      "name": "set_time_offset",
      "discriminator": [89, 238, 89, 160, 239, 113, 25, 123],
      "accounts": [
        {
          "name": "registrar",
          "writable": true
        },
        {
          "name": "realm_authority",
          "signer": true
        }
      ],
      "args": [
        {
          "name": "time_offset",
          "type": "i64"
        }
      ]
    }
  ],
  "accounts": [
    {
      "name": "Registrar",
      "discriminator": [193, 202, 205, 51, 78, 168, 150, 128]
    },
    {
      "name": "Voter",
      "discriminator": [241, 93, 35, 191, 254, 147, 17, 202]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "InvalidRate",
      "msg": "Exchange rate must be greater than zero"
    },
    {
      "code": 6001,
      "name": "RatesFull",
      "msg": ""
    },
    {
      "code": 6002,
      "name": "VotingMintNotFound",
      "msg": ""
    },
    {
      "code": 6003,
      "name": "DepositEntryNotFound",
      "msg": ""
    },
    {
      "code": 6004,
      "name": "DepositEntryFull",
      "msg": ""
    },
    {
      "code": 6005,
      "name": "VotingTokenNonZero",
      "msg": ""
    },
    {
      "code": 6006,
      "name": "OutOfBoundsDepositEntryIndex",
      "msg": ""
    },
    {
      "code": 6007,
      "name": "UnusedDepositEntryIndex",
      "msg": ""
    },
    {
      "code": 6008,
      "name": "InsufficientUnlockedTokens",
      "msg": ""
    },
    {
      "code": 6009,
      "name": "UnableToConvert",
      "msg": ""
    },
    {
      "code": 6010,
      "name": "InvalidLockupPeriod",
      "msg": ""
    },
    {
      "code": 6011,
      "name": "InvalidEndTs",
      "msg": ""
    },
    {
      "code": 6012,
      "name": "InvalidDays",
      "msg": ""
    },
    {
      "code": 6013,
      "name": "VotingMintConfigIndexAlreadyInUse",
      "msg": ""
    },
    {
      "code": 6014,
      "name": "OutOfBoundsVotingMintConfigIndex",
      "msg": ""
    },
    {
      "code": 6015,
      "name": "InvalidDecimals",
      "msg": "Exchange rate decimals cannot be larger than registrar decimals"
    },
    {
      "code": 6016,
      "name": "InvalidToDepositAndWithdrawInOneSlot",
      "msg": ""
    },
    {
      "code": 6017,
      "name": "ShouldBeTheFirstIxInATx",
      "msg": ""
    },
    {
      "code": 6018,
      "name": "ForbiddenCpi",
      "msg": ""
    },
    {
      "code": 6019,
      "name": "InvalidMint",
      "msg": ""
    },
    {
      "code": 6020,
      "name": "DebugInstruction",
      "msg": ""
    },
    {
      "code": 6021,
      "name": "ClawbackNotAllowedOnDeposit",
      "msg": ""
    },
    {
      "code": 6022,
      "name": "DepositStillLocked",
      "msg": ""
    },
    {
      "code": 6023,
      "name": "InvalidAuthority",
      "msg": ""
    },
    {
      "code": 6024,
      "name": "InvalidTokenOwnerRecord",
      "msg": ""
    },
    {
      "code": 6025,
      "name": "InvalidRealmAuthority",
      "msg": ""
    },
    {
      "code": 6026,
      "name": "VoterWeightOverflow",
      "msg": ""
    },
    {
      "code": 6027,
      "name": "LockupSaturationMustBePositive",
      "msg": ""
    },
    {
      "code": 6028,
      "name": "VotingMintConfiguredWithDifferentIndex",
      "msg": ""
    },
    {
      "code": 6029,
      "name": "InternalProgramError",
      "msg": ""
    },
    {
      "code": 6030,
      "name": "InsufficientLockedTokens",
      "msg": ""
    },
    {
      "code": 6031,
      "name": "MustKeepTokensLocked",
      "msg": ""
    },
    {
      "code": 6032,
      "name": "InvalidLockupKind",
      "msg": ""
    },
    {
      "code": 6033,
      "name": "InvalidChangeToClawbackDepositEntry",
      "msg": ""
    },
    {
      "code": 6034,
      "name": "InternalErrorBadLockupVoteWeight",
      "msg": ""
    },
    {
      "code": 6035,
      "name": "DepositStartTooFarInFuture",
      "msg": ""
    },
    {
      "code": 6036,
      "name": "VaultTokenNonZero",
      "msg": ""
    },
    {
      "code": 6037,
      "name": "InvalidTimestampArguments",
      "msg": ""
    }
  ],
  "types": [
    {
      "name": "DepositEntry",
      "serialization": "bytemuckunsafe",
      "repr": {
        "kind": "c"
      },
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "lockup",
            "type": {
              "defined": {
                "name": "Lockup"
              }
            }
          },
          {
            "name": "amount_deposited_native",
            "type": "u64"
          },
          {
            "name": "amount_initially_locked_native",
            "type": "u64"
          },
          {
            "name": "is_used",
            "type": "bool"
          },
          {
            "name": "allow_clawback",
            "type": "bool"
          },
          {
            "name": "voting_mint_config_idx",
            "type": "u8"
          },
          {
            "name": "reserved",
            "type": {
              "array": ["u8", 29]
            }
          }
        ]
      }
    },
    {
      "name": "VestingInfo",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "rate",
            "type": "u64"
          },
          {
            "name": "next_timestamp",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "LockingInfo",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "amount",
            "type": "u64"
          },
          {
            "name": "end_timestamp",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "vesting",
            "type": {
              "option": {
                "defined": {
                  "name": "VestingInfo"
                }
              }
            }
          }
        ]
      }
    },
    {
      "name": "Lockup",
      "serialization": "bytemuckunsafe",
      "repr": {
        "kind": "c"
      },
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "start_ts",
            "type": "i64"
          },
          {
            "name": "end_ts",
            "type": "i64"
          },
          {
            "name": "kind",
            "type": {
              "defined": {
                "name": "LockupKind"
              }
            }
          },
          {
            "name": "reserved",
            "type": {
              "array": ["u8", 15]
            }
          }
        ]
      }
    },
    {
      "name": "VotingMintConfig",
      "serialization": "bytemuck",
      "repr": {
        "kind": "c"
      },
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "mint",
            "type": "pubkey"
          },
          {
            "name": "grant_authority",
            "type": "pubkey"
          },
          {
            "name": "baseline_vote_weight_scaled_factor",
            "type": "u64"
          },
          {
            "name": "max_extra_lockup_vote_weight_scaled_factor",
            "type": "u64"
          },
          {
            "name": "lockup_saturation_secs",
            "type": "u64"
          },
          {
            "name": "digit_shift",
            "type": "i8"
          },
          {
            "name": "reserved1",
            "type": {
              "array": ["u8", 7]
            }
          },
          {
            "name": "reserved2",
            "type": {
              "array": ["u64", 7]
            }
          }
        ]
      }
    },
    {
      "name": "LockupKind",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "None"
          },
          {
            "name": "Daily"
          },
          {
            "name": "Monthly"
          },
          {
            "name": "Cliff"
          },
          {
            "name": "Constant"
          }
        ]
      }
    },
    {
      "name": "Registrar",
      "serialization": "bytemuck",
      "repr": {
        "kind": "c"
      },
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "governance_program_id",
            "type": "pubkey"
          },
          {
            "name": "realm",
            "type": "pubkey"
          },
          {
            "name": "realm_governing_token_mint",
            "type": "pubkey"
          },
          {
            "name": "realm_authority",
            "type": "pubkey"
          },
          {
            "name": "reserved1",
            "type": {
              "array": ["u8", 32]
            }
          },
          {
            "name": "voting_mints",
            "type": {
              "array": [
                {
                  "defined": {
                    "name": "VotingMintConfig"
                  }
                },
                4
              ]
            }
          },
          {
            "name": "time_offset",
            "type": "i64"
          },
          {
            "name": "bump",
            "type": "u8"
          },
          {
            "name": "reserved2",
            "type": {
              "array": ["u8", 7]
            }
          },
          {
            "name": "reserved3",
            "type": {
              "array": ["u64", 11]
            }
          }
        ]
      }
    },
    {
      "name": "Voter",
      "serialization": "bytemuckunsafe",
      "repr": {
        "kind": "c"
      },
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "voter_authority",
            "type": "pubkey"
          },
          {
            "name": "registrar",
            "type": "pubkey"
          },
          {
            "name": "deposits",
            "type": {
              "array": [
                {
                  "defined": {
                    "name": "DepositEntry"
                  }
                },
                32
              ]
            }
          },
          {
            "name": "voter_bump",
            "type": "u8"
          },
          {
            "name": "voter_weight_record_bump",
            "type": "u8"
          },
          {
            "name": "reserved",
            "type": {
              "array": ["u8", 94]
            }
          }
        ]
      }
    },
    {
      "name": "VoterInfo",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "voting_power",
            "type": "u64"
          },
          {
            "name": "voting_power_baseline",
            "type": "u64"
          }
        ]
      }
    },
    {
      "name": "DepositEntryInfo",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "deposit_entry_index",
            "type": "u8"
          },
          {
            "name": "voting_mint_config_index",
            "type": "u8"
          },
          {
            "name": "unlocked",
            "type": "u64"
          },
          {
            "name": "voting_power",
            "type": "u64"
          },
          {
            "name": "voting_power_baseline",
            "type": "u64"
          },
          {
            "name": "locking",
            "type": {
              "option": {
                "defined": {
                  "name": "LockingInfo"
                }
              }
            }
          }
        ]
      }
    }
  ]
}
